(window.webpackJsonp=window.webpackJsonp||[]).push([[84],{145:function(e,n,t){"use strict";t.r(n),t.d(n,"frontMatter",(function(){return l})),t.d(n,"metadata",(function(){return s})),t.d(n,"toc",(function(){return d})),t.d(n,"default",(function(){return c}));var r=t(3),a=t(7),i=(t(0),t(169)),o=t(199),l={title:"Embedding"},s={unversionedId:"v4/embedding",id:"v4/embedding",isDocsHomePage:!1,title:"Embedding",description:"Signature",source:"@site/web-player/v4/embedding.mdx",slug:"/v4/embedding",permalink:"/podlove-web-player/v4/embedding",version:"current",sidebar:"0",previous:{title:"Installation",permalink:"/podlove-web-player/v4/installation"},next:{title:"Theming",permalink:"/podlove-web-player/v4/theming"}},d=[{value:"Signature",id:"signature",children:[{value:"Example Embedding with JSON File",id:"example-embedding-with-json-file",children:[]},{value:"Example Embedding with Meta Object",id:"example-embedding-with-meta-object",children:[]}]}],p={toc:d};function c(e){var n=e.components,t=Object(a.a)(e,["components"]);return Object(i.b)("wrapper",Object(r.a)({},p,t,{components:n,mdxType:"MDXLayout"}),Object(i.b)(o.a,{config:"/assets/web-player/v4/config.json",mdxType:"Player"}),Object(i.b)("h2",{id:"signature"},"Signature"),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-javascript"},"/*\n*   Podlove Player Factory\n*   @param {string, dom node}   selector        - CSS selector or dom node\n*   @param {string, object}     configuration   - Path to JSON config or configuration object\n*   @returns {Promise}          store           - Promise returning a redux store\n*/\npodlovePlayer(selector, configuration)\n")),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"Selector can be a css selector or a dom node reference"),Object(i.b)("li",{parentName:"ul"},"An iframe as the canvas is injected into the reference, encapsulating the player"),Object(i.b)("li",{parentName:"ul"},"Configuration can be provided as a meta object or an url to the configuration json file"),Object(i.b)("li",{parentName:"ul"},"Canvas width can be defined by the template"),Object(i.b)("li",{parentName:"ul"},"Canvas height is adapted to players height")),Object(i.b)("p",null,"Using a selector that matches multiple elements the player will be rendered in the first matching element.\nThe ",Object(i.b)("em",{parentName:"p"},"podlovePlayer")," returns a promise with a redux store as a result that can be used to change the player state from outside."),Object(i.b)("h3",{id:"example-embedding-with-json-file"},"Example Embedding with JSON File"),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-html"},"<div id=\"example\"></div>\n<script src=\"embed.js\"><\/script>\n<script>\n    podlovePlayer('#example', './fixtures/example.json');\n<\/script>\n")),Object(i.b)("h3",{id:"example-embedding-with-meta-object"},"Example Embedding with Meta Object"),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-html"},'<div id="example"></div>\n<script src="embed.js"><\/script>\n<script>\n  podlovePlayer(\'#example\', {\n    "show": {\n      "title": "Podlovers",\n      "subtitle": "Der Podlove Entwickler:innen Podcast",\n      "summary": "Podlove ist eine Initiative zur Verbesserung der Open Source Infrastruktur zum Podcasting. Podlove ist gleichzeitig auch ein Netzwerk an Entwickler:innen zur Diskussion von Features und Standardisierung.",\n      "poster": "/assets/web-player/show.png",\n      "link": "https://podlovers.org"\n    },\n    "title": "Podlove Web Player",\n    "subtitle": "Podlove Web Player: Motivation, Geschichte, Features, Ausblick",\n    "summary": "Wir holen uns Simon zur Hilfe um \\u00fcber die Anf\\u00e4nge des Podlove Web Player zu sprechen: Warum es ihn gibt und wie die ersten Versionen aussahen. In der zweiten H\\u00e4lfte geht es tief in den Technik-Kaninchenbau: Alex erl\\u00e4utert seine Motivation f\\u00fcr den Neubau f\\u00fcr Podlove Web Player 4 und 5. Zum Schluss besprechen wir das holprige Release des aktuellen Web Player Plugins.",\n    "publicationDate": "2020-08-16T11:58:58+00:00",\n    "duration": "01:31:18.610",\n    "poster": "/assets/web-player/episode.png",\n    "link": "https://podlovers.org/podlove-web-player",\n    "chapters": [\n      {\n        "start": "00:00:00.000",\n        "title": "Begr\\u00fc\\u00dfung",\n        "href": "",\n        "image": ""\n      },\n      {\n        "start": "00:00:26.196",\n        "title": "Simon",\n        "href": "",\n        "image": ""\n      },\n      {\n        "start": "00:01:56.397",\n        "title": "Feedback",\n        "href": "",\n        "image": ""\n      },\n      {\n        "start": "00:07:08.279",\n        "title": "Erfahrungen beim Publishen",\n        "href": "",\n        "image": ""\n      },\n      {\n        "start": "00:13:29.226",\n        "title": "Shownotes",\n        "href": "",\n        "image": ""\n      },\n      {\n        "start": "00:20:43.264",\n        "title": "Audio-Hardware",\n        "href": "",\n        "image": ""\n      },\n      {\n        "start": "00:22:51.183",\n        "title": "Podlove Web Player: Warum eigentlich?",\n        "href": "",\n        "image": ""\n      },\n      {\n        "start": "00:25:41.451",\n        "title": "Podlove Web Player 1",\n        "href": "",\n        "image": ""\n      },\n      {\n        "start": "00:28:16.131",\n        "title": "Podlove Web Player 2",\n        "href": "",\n        "image": ""\n      },\n      {\n        "start": "00:33:44.999",\n        "title": "Podlove Web Player 3",\n        "href": "",\n        "image": ""\n      },\n      {\n        "start": "00:44:17.011",\n        "title": "Podlove Web Player 4",\n        "href": "",\n        "image": ""\n      },\n      {\n        "start": "01:02:41.149",\n        "title": "Podlove UI",\n        "href": "",\n        "image": ""\n      },\n      {\n        "start": "01:05:50.035",\n        "title": "Podlove Web Player 5",\n        "href": "",\n        "image": ""\n      },\n      {\n        "start": "01:12:50.121",\n        "title": "Podlove Web Player WordPress Plugin",\n        "href": "",\n        "image": ""\n      },\n      {\n        "start": "01:29:23.552",\n        "title": "Ausblick",\n        "href": "",\n        "image": ""\n      },\n      {\n        "start": "01:30:49.849",\n        "title": "Und Tsch\\u00fcss",\n        "href": "",\n        "image": ""\n      }\n    ],\n    "audio": [\n      {\n        "url": "https://files.podlovers.org/LOV003.mp3",\n        "size": "76976929",\n        "title": "MP3 Audio (mp3)",\n        "mimeType": "audio\\/mpeg"\n      }\n    ],\n    "files": [\n      {\n        "url": "https://files.podlovers.org/LOV003.mp3",\n        "size": "76976929",\n        "title": "MP3 Audio",\n        "mimeType": "audio\\/mpeg"\n      }\n    ],\n    "contributors": [\n      {\n        "id": "1",\n        "name": "Alexander Heimbuch",\n        "avatar": "/assets/web-player/alexander-heimbuch.jpeg",\n        "role": {\n          "id": "1",\n          "slug": "team",\n          "title": "Team"\n        },\n        "group": {\n          "id": "2",\n          "slug": "on-air",\n          "title": "On Air"\n        }\n      },\n      {\n        "id": "2",\n        "name": "Michaela Lehr",\n        "avatar": "/assets/web-player/michaela-lehr.jpeg",\n        "role": {\n          "id": "1",\n          "slug": "team",\n          "title": "Team"\n        },\n        "group": {\n          "id": "2",\n          "slug": "on-air",\n          "title": "On Air"\n        }\n      },\n      {\n        "id": "3",\n        "name": "Eric Teubert",\n        "avatar": "/assets/web-player/eric-teubert.jpeg",\n        "role": {\n          "id": "1",\n          "slug": "team",\n          "title": "Team"\n        },\n        "group": {\n          "id": "2",\n          "slug": "on-air",\n          "title": "On Air"\n        }\n      },\n      {\n        "id": "4",\n        "name": "Simon",\n        "avatar": "/assets/web-player/simon.jpeg",\n        "role": {\n          "id": "2",\n          "slug": "guest",\n          "title": "Gast"\n        },\n        "group": {\n          "id": "2",\n          "slug": "on-air",\n          "title": "On Air"\n        }\n      }\n    ],\n    "transcripts": "/assets/web-player/v4/transcript.json"\n  });\n<\/script>\n')))}c.isMDXComponent=!0},199:function(e,n,t){"use strict";t.d(n,"a",(function(){return h}));var r=t(173),a=t(4),i=t(174),o=t.n(i),l=t(172),s=t(175),d=t(176),p=t(0),c=t.n(p),u=t(170),m=t.n(u),b=t(177),g=t(178),h=function(e){function n(n){var t;return(t=e.call(this,n)||this).playerRef=c.a.createRef(),t.mountIframe=Object(b.debounce)((function(){var e=t.playerRef.current;e&&(t.props.variant&&e.setAttribute("data-variant",t.props.variant),e.innerHTML=t.props.children?Object(g.renderToString)(t.props.children):"",window.podlovePlayer(e,t.props.config).then((function(e){t.props.onLoaded&&t.props.onLoaded(e),t.props.playtime&&e.dispatch(Object(s.a)(t.props.playtime)),t.props.tab&&e.dispatch(Object(l.a)(t.props.tab))})))}),600),t}Object(a.a)(n,e);var t=n.prototype;return t.componentDidMount=function(){var e=Object(r.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return window.podlovePlayer=void 0,e.next=3,Object(d.a)("https://cdn.podlove.org/web-player/4.x/embed.js").then(this.mountIframe.bind(this));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.componentWillReceiveProps=function(e){Object(b.isEqual)(Object(b.omit)(e,"onLoaded"),Object(b.omit)(this.props,"onLoaded"))||(this.props=e,this.mountIframe())},t.render=function(){var e=m()({default:{player:{marginBottom:"15px"}}});return c.a.createElement("div",{style:e.player,ref:this.playerRef})},n}(c.a.Component)}}]);